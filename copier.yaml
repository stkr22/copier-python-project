# CONFIGURATION -------------------------
_subdirectory: project
_templates_suffix: .jinja

# PROMPT --------------------------------
project_name:
  type: str
  help: "The name of your project."
  default: "A cool Package"
  prompt: "What is the name of your project?"

python_package_distribution_name:
  type: str
  help: Your Python package distribution name (for `pip install NAME`)
  default: "{{ project_name|lower|replace('_', '-')|replace(' ', '-') }}"

python_package_import_name:
  type: str
  help: Your Python package import name (for `import NAME` in Python code)
  default: "{{ project_name|lower|replace('-', '_')|replace(' ', '_') }}"

github_repository_name:
  type: str
  help: Your github repository name for url generation
  default: "{{ project_name|lower|replace('_', '-')|replace(' ', '-') }}-py"

project_description:
  type: str
  help: "A short description of your project."
  default: "A new cool package."

author_full_name:
  type: str
  help: "Full name of the author."
  default: "Anonymous"

codeowner_username:
  type: str
  help: "Name to be used in codeowners file."
  default: "@stkr22"

github_username:
  type: str
  help: "GitHub username or organization"
  default: "{{ codeowner_username.lstrip('@') }}"

author_email:
  type: str
  help: "Author's email address."
  default: "{{ author_full_name.lower().replace(' ', '.') }}@github.com"

copyright_license:
  type: str
  help: Your project's license (SPDX expression)
  default: MIT
  choices:
  - MIT
  - Apache-2.0
  - GPL-3.0
  - BSD-3-Clause
  - LGPL-3.0
  - AGPL-3.0
  - Unlicense

# PROJECT FEATURES ----------------------
publish_to_pypi:
  type: bool
  help: "Include PyPI publishing workflow?"
  default: false

use_containers:
  type: bool
  help: "Include container build and push workflows?"
  default: false

_migrations:
  - version: "3.0.0"
    before:
      - |
        {% set license_mapping = {
            'MIT License': 'MIT',
            'Apache License 2.0': 'Apache-2.0',
            'GNU General Public License v3.0': 'GPL-3.0',
            'BSD 3-Clause "New" or "Revised" License': 'BSD-3-Clause',
            'GNU Lesser General Public License v3.0': 'LGPL-3.0',
            'GNU Affero General Public License v3.0': 'AGPL-3.0',
            'The Unlicense': 'Unlicense'
        } %}
        {% if copyright_license in license_mapping %}
        {% set copyright_license = license_mapping[copyright_license] %}
        {% elif copyright_license not in ['MIT', 'Apache-2.0', 'GPL-3.0', 'BSD-3-Clause', 'LGPL-3.0', 'AGPL-3.0', 'Unlicense'] %}
        {% set copyright_license = 'MIT' %}
        {% endif %}